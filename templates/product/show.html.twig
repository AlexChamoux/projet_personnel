{% extends 'baseAdmin.html.twig' %}

{% block title %}Product{% endblock %}

{% block body %}
    <h1>Product</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom du Produit</th>
                <td>{{ product.nameProduct }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ product.description }}</td>
            </tr>
            <tr>
                <th>Plus d'information</th>
                <td>{{ product.moreInformation }}</td>
            </tr>
            <tr>
                <th>Créé le</th>
                <td>{{ product.createdAt ? product.createdAt|date('d-m-Y H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Catégorie</th>
                <th>{{ product.category }}</th>
            </tr>
            <tr>
                <th>Prix du Produit</th>
                <td>{{ product.priceProduct }}</td>
            </tr>
            <tr>
                <th>Meilleur Vente</th>
                <td>{{ product.isBest ? 'Oui' : 'Non' }}</td>
            </tr>
            <tr>
                <th>Nouveautée</th>
                <td>{{ product.isNew ? 'Oui' : 'Non' }}</td>
            </tr>
            <tr>
                <th>Images</th>
                <td>
                    {% if product.images is not empty %}
                        <div class="image-container">
                            {% for image in product.images %}
                                <div class="image-wrapper">
                                    <img src="{{ asset('upload/products/' ~ product.slug ~ '/' ~ image.imageFileName) }}" alt="Product Image" class="img-fluid">
                                </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        No images available.
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_product_index') }}">back to list</a>

    <a href="{{ path('app_product_edit', {'id': product.id}) }}">edit</a>

    {{ include('product/_delete_form.html.twig') }}

<style>
.image-container {
    display: flex;
    flex-wrap: wrap;
}

.image-wrapper {
    width: 15vw;
    height: 15vw;
    margin: 5px;
    overflow: hidden;
}

.image-wrapper img {
    width: auto;
    height: 100%;
    object-fit: cover;
}
</style>
{% endblock %}
